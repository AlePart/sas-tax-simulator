"use strict";(self.webpackChunksas_tax_simulator=self.webpackChunksas_tax_simulator||[]).push([[807],{2807:(e,t,i)=>{i.r(t),i.d(t,{default:()=>T});var s=i(5043),a=i(579);const o=e=>{let{title:t,children:i,className:s=""}=e;return(0,a.jsxs)("div",{className:`mb-6 p-4 bg-white rounded-lg shadow ${s}`,children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t}),i]})},r=e=>{let{label:t,value:i,bgColor:s="bg-blue-50",className:o=""}=e;return(0,a.jsxs)("div",{className:`p-3 ${s} rounded ${o}`,children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:i})]})},l=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e),n=function(e){return{id:e,nome:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Nuovo Socio",tipo:"operativo",percentuale:50,redditoEsterno:0,giornateLavorate:220,buoniPasto:!1,valoreBuoniPasto:8,buoniPastoEsentiFino:8,trasferte:!1,giorniTrasferta:0,importoTrasfertaGiorno:50,trasfertaEsenteFino:46.48}},c=e=>e<=15e3?.23*e:e<=28e3?3450+.25*(e-15e3):e<=5e4?6700+.35*(e-28e3):14400+.43*(e-5e4),d=e=>{let{fatturato:t,setFatturato:i,costi:s,setCosti:n,aliquotaIrap:c,setAliquotaIrap:d,aliquotaInps:m,setAliquotaInps:u,utileAziendale:x,irap:p,utileDopoIrap:g,costiSociOperativi:h,costiEsenti:b,costiNonEsenti:j}=e;return(0,a.jsxs)(o,{title:"Dati Aziendali",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fatturato Aziendale (\u20ac)"}),(0,a.jsx)("input",{type:"number",value:t,onChange:e=>i(Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Costi Aziendali Base (\u20ac)"}),(0,a.jsx)("input",{type:"number",value:s,onChange:e=>n(Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aliquota IRAP (%)"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:c,onChange:e=>d(Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aliquota INPS (%)"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:m,onChange:e=>u(Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(r,{label:"Costi Soci Operativi Totali:",value:l(h)}),(0,a.jsx)(r,{label:"di cui Esenti:",value:l(b),bgColor:"bg-green-50"}),(0,a.jsx)(r,{label:"di cui Non Esenti:",value:l(j),bgColor:"bg-yellow-50"})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(r,{label:"Utile Aziendale:",value:l(x)}),(0,a.jsx)(r,{label:`IRAP (${c}%):`,value:l(p)}),(0,a.jsx)(r,{label:"Utile dopo IRAP:",value:l(g),bgColor:"bg-green-50"})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Nota:"})," L'utile aziendale \xe8 calcolato sottraendo dal fatturato i costi base e solo i costi esenti dei soci operativi. La parte non esente di buoni pasto e trasferte \xe8 invece considerata come parte del reddito imponibile dei singoli soci."]})})]})},m=e=>{let{socio:t,updateSocio:i,rimuoviSocio:s}=e;return(0,a.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:t.nome}),(0,a.jsx)("button",{onClick:()=>s(t.id),className:"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600",children:"Rimuovi"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Socio"}),(0,a.jsx)("input",{type:"text",value:t.nome,onChange:e=>i(t.id,"nome",e.target.value),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo Socio"}),(0,a.jsxs)("select",{value:t.tipo,onChange:e=>i(t.id,"tipo",e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,a.jsx)("option",{value:"operativo",children:"Socio Operativo"}),(0,a.jsx)("option",{value:"capitale",children:"Socio di Capitale"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Percentuale di Partecipazione (%)"}),(0,a.jsx)("input",{type:"number",min:"0",max:"100",step:"0.01",value:t.percentuale,onChange:e=>i(t.id,"percentuale",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reddito Esterno (\u20ac)"}),(0,a.jsx)("input",{type:"number",value:t.redditoEsterno,onChange:e=>i(t.id,"redditoEsterno",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),"operativo"===t.tipo&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giornate Lavorate"}),(0,a.jsx)("input",{type:"number",min:"0",max:"365",value:t.giornateLavorate,onChange:e=>i(t.id,"giornateLavorate",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]}),"operativo"===t.tipo&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.buoniPasto,onChange:e=>i(t.id,"buoniPasto",e.target.checked),className:"mr-2"}),"Buoni Pasto"]}),t.buoniPasto&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600",children:"Valore (\u20ac/giorno)"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.valoreBuoniPasto,onChange:e=>i(t.id,"valoreBuoniPasto",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600",children:"Esente fino a (\u20ac)"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.buoniPastoEsentiFino,onChange:e=>i(t.id,"buoniPastoEsentiFino",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.trasferte,onChange:e=>i(t.id,"trasferte",e.target.checked),className:"mr-2"}),"Rimborsi Trasferta"]}),t.trasferte&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600",children:"Giorni"}),(0,a.jsx)("input",{type:"number",min:"0",value:t.giorniTrasferta,onChange:e=>i(t.id,"giorniTrasferta",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600",children:"\u20ac/giorno"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.importoTrasfertaGiorno,onChange:e=>i(t.id,"importoTrasfertaGiorno",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600",children:"Esente fino a (\u20ac)"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.trasfertaEsenteFino,onChange:e=>i(t.id,"trasfertaEsenteFino",Number(e.target.value)),className:"w-full p-2 border border-gray-300 rounded"})]})]})]})]})]})},u=e=>{let{soci:t,setSoci:i,totalPercentuale:s}=e;const o=e=>{i(t.filter((t=>t.id!==e)))},r=(e,s,a)=>{i(t.map((t=>t.id===e?{...t,[s]:a}:t)))};return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Soci"}),(0,a.jsx)("button",{onClick:()=>{const e=n(t.length>0?Math.max(...t.map((e=>e.id)))+1:1);i([...t,e])},className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600",children:"Aggiungi Socio"})]}),100!==s&&(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4",children:["Attenzione: La somma delle percentuali di partecipazione \xe8 ",s,"%. Il totale deve essere 100%."]}),t.map((e=>(0,a.jsx)(m,{socio:e,updateSocio:r,rimuoviSocio:o},e.id)))]})},x=e=>{let{risultato:t}=e;const{socio:i,quotaUtile:s,importoBuoniPasto:o,importoBuoniPastoEsenti:n,importoBuoniPastoNonEsenti:c,importoTrasferte:d,importoTrasferteEsenti:m,importoTrasferteNonEsenti:u,contributiInps:x,redditoImponibileTotale:p,irpef:g,addizionaleRegionale:h,addizionaleComunale:b,totaleImposte:j,nettoPercepito:f}=t;return(0,a.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg shadow",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-2 border-b pb-2",children:[i.nome," - ","operativo"===i.tipo?"Socio Operativo":"Socio di Capitale"," (",i.percentuale,"%)"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsx)(r,{label:"Quota Utile:",value:l(s)}),"operativo"===i.tipo&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{label:"Buoni Pasto Totali:",value:l(o)}),(0,a.jsx)(r,{label:"Rimborsi Trasferta Totali:",value:l(d)})]})]}),"operativo"===i.tipo&&o>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsx)(r,{label:"Buoni Pasto Esenti:",value:l(n),bgColor:"bg-green-50"}),(0,a.jsx)(r,{label:"Buoni Pasto Non Esenti:",value:l(c),bgColor:"bg-yellow-50"})]}),"operativo"===i.tipo&&d>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsx)(r,{label:"Trasferte Esenti:",value:l(m),bgColor:"bg-green-50"}),(0,a.jsx)(r,{label:"Trasferte Non Esenti:",value:l(u),bgColor:"bg-yellow-50"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsx)(r,{label:"Reddito Imponibile Totale:",value:l(p),bgColor:"bg-blue-50"}),(0,a.jsx)(r,{label:"Contributi INPS:",value:l(x),bgColor:"bg-yellow-50"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsx)(r,{label:"IRPEF:",value:l(g),bgColor:"bg-yellow-50"}),(0,a.jsx)(r,{label:"Addizionale Regionale:",value:l(h),bgColor:"bg-yellow-50"}),(0,a.jsx)(r,{label:"Addizionale Comunale:",value:l(b),bgColor:"bg-yellow-50"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(r,{label:"Totale Imposte:",value:l(j),bgColor:"bg-red-50"}),(0,a.jsx)(r,{label:"Netto Percepito:",value:l(f),bgColor:"bg-green-50"})]}),"operativo"===i.tipo&&(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[(0,a.jsx)("p",{children:"Il netto percepito include: la quota di utile al netto delle imposte, pi\xf9 la parte esente di buoni pasto e trasferte."}),(0,a.jsx)("p",{children:"La parte non esente \xe8 inclusa nel reddito imponibile e quindi gi\xe0 considerata nel calcolo delle imposte."})]})]})};var p=i(108),g=i(9282),h=i(3439),b=i(7869),j=i(6150),f=i(1327);const v=e=>{let{fatturato:t,costi:i,costiSociOperativi:s,costiEsenti:r,costiNonEsenti:n,utileAziendale:c,irap:d,utileDopoIrap:m,risultatiSoci:u}=e;return(0,a.jsxs)(o,{title:"Report Grafico",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Ripartizione Aziendale"}),(0,a.jsx)("div",{style:{width:"100%",height:300},children:(0,a.jsx)(p.u,{children:(0,a.jsxs)(g.r,{children:[(0,a.jsxs)(h.F,{data:[{name:"Costi Base",value:i},{name:"Costi Soci (Esenti)",value:r},{name:"Costi Soci (Non Esenti)",value:n},{name:"IRAP",value:d},{name:"Utile Netto",value:m}],cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:i}=e;return`${t}: ${(100*i).toFixed(0)}%`},children:[(0,a.jsx)(b.f,{fill:"#FF8042"}),(0,a.jsx)(b.f,{fill:"#00C49F"}),(0,a.jsx)(b.f,{fill:"#FFBB28"}),(0,a.jsx)(b.f,{fill:"#FF0000"}),(0,a.jsx)(b.f,{fill:"#0088FE"})]}),(0,a.jsx)(j.m,{formatter:e=>l(e)}),(0,a.jsx)(f.s,{})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Ripartizione delle Quote"}),(0,a.jsx)("div",{style:{width:"100%",height:300},children:(0,a.jsx)(p.u,{children:(0,a.jsxs)(g.r,{children:[(0,a.jsx)(h.F,{data:u.map((e=>({name:e.socio.nome,value:e.quotaUtile,tipo:e.socio.tipo}))),cx:"50%",cy:"50%",labelLine:!0,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:i}=e;return`${t}: ${(100*i).toFixed(0)}%`},children:u.map(((e,t)=>(0,a.jsx)(b.f,{fill:"operativo"===e.socio.tipo?"#0088FE":"#00C49F"},`cell-${t}`)))}),(0,a.jsx)(j.m,{formatter:e=>l(e)}),(0,a.jsx)(f.s,{})]})})})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Dettaglio Fiscale"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voce"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Importo"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentuale"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Fatturato"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(t)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"100%"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Costi Base"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(i)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(i/t*100).toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Costi Soci Operativi (Esenti)"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(r)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(r/t*100).toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Costi Soci Operativi (Non Esenti)"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(n)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(n/t*100).toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Utile Aziendale"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(c)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(c/t*100).toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"IRAP"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l(d)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(d/t*100).toFixed(2),"%"]})]}),(0,a.jsxs)("tr",{className:"bg-green-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Utile dopo IRAP"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:l(m)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:[(m/t*100).toFixed(2),"%"]})]})]})]})})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("strong",{children:"Nota fiscale:"})," I costi non esenti (parte eccedente le soglie di esenzione di buoni pasto e trasferte) sono considerati reddito del socio e non riducono l'utile aziendale. Questo riflette il trattamento fiscale corretto secondo la normativa italiana."]})})]})},N=e=>{let{fatturato:t,costi:i,costiSociOperativi:s,costiEsenti:o,costiNonEsenti:r,utileAziendale:n,irap:c,utileDopoIrap:d,soci:m,risultatiSoci:u}=e;const x=u.reduce(((e,t)=>e+t.totaleImposte),0),p=u.reduce(((e,t)=>e+t.nettoPercepito),0);return(0,a.jsxs)("div",{className:"hidden 2xl:block fixed right-4 top-4 w-64 bg-white shadow-lg rounded-lg p-4 border-l-4 border-blue-500 h-[calc(100vh-2rem)] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-4 border-b pb-2",children:"Riepilogo Simulazione"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-gray-600",children:"Dati Aziendali"}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-sm",children:[(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Fatturato:"}),(0,a.jsx)("span",{className:"font-medium",children:l(t)})]}),(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Costi base:"}),(0,a.jsx)("span",{className:"font-medium",children:l(i)})]}),(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Costi soci (totali):"}),(0,a.jsx)("span",{className:"font-medium",children:l(s)})]}),(0,a.jsxs)("li",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"- di cui deducibili:"}),(0,a.jsx)("span",{className:"font-medium",children:l(o)})]}),(0,a.jsxs)("li",{className:"flex justify-between text-yellow-600",children:[(0,a.jsx)("span",{children:"- di cui non deducibili:"}),(0,a.jsx)("span",{className:"font-medium",children:l(r)})]}),(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Utile:"}),(0,a.jsx)("span",{className:"font-medium",children:l(n)})]}),(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"IRAP:"}),(0,a.jsx)("span",{className:"font-medium",children:l(c)})]}),(0,a.jsxs)("li",{className:"flex justify-between font-semibold text-green-700",children:[(0,a.jsx)("span",{children:"Utile netto:"}),(0,a.jsx)("span",{children:l(d)})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,a.jsxs)("h4",{className:"font-medium text-sm text-gray-600",children:["Soci (",m.length,")"]}),(0,a.jsx)("ul",{className:"mt-2 space-y-2 text-sm",children:u.map(((e,t)=>(0,a.jsxs)("li",{className:"border-b pb-1 last:border-b-0",children:[(0,a.jsxs)("div",{className:"font-medium flex justify-between",children:[(0,a.jsx)("span",{children:e.socio.nome}),(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-1 rounded",children:"operativo"===e.socio.tipo?"Operativo":"Capitale"})]}),(0,a.jsxs)("div",{className:"text-xs flex justify-between mt-1",children:[(0,a.jsxs)("span",{children:["Quota ",e.socio.percentuale,"%:"]}),(0,a.jsx)("span",{children:l(e.quotaUtile)})]}),"operativo"===e.socio.tipo&&(0,a.jsxs)(a.Fragment,{children:[e.importoBuoniPastoEsenti+e.importoTrasferteEsenti>0&&(0,a.jsxs)("div",{className:"text-xs flex justify-between",children:[(0,a.jsx)("span",{children:"Esenti:"}),(0,a.jsx)("span",{className:"text-green-600",children:l(e.importoBuoniPastoEsenti+e.importoTrasferteEsenti)})]}),e.importoBuoniPastoNonEsenti+e.importoTrasferteNonEsenti>0&&(0,a.jsxs)("div",{className:"text-xs flex justify-between",children:[(0,a.jsx)("span",{children:"Non esenti:"}),(0,a.jsx)("span",{className:"text-yellow-600",children:l(e.importoBuoniPastoNonEsenti+e.importoTrasferteNonEsenti)})]})]}),(0,a.jsxs)("div",{className:"text-xs flex justify-between",children:[(0,a.jsx)("span",{children:"Imposte:"}),(0,a.jsx)("span",{className:"text-red-600",children:l(e.totaleImposte)})]}),(0,a.jsxs)("div",{className:"text-xs flex justify-between",children:[(0,a.jsx)("span",{children:"Netto:"}),(0,a.jsx)("span",{className:"text-green-600",children:l(e.quotaUtile-e.totaleImposte)})]}),(0,a.jsxs)("div",{className:"text-xs flex justify-between font-medium",children:[(0,a.jsx)("span",{children:"Netto Percepito:"}),(0,a.jsx)("span",{className:"text-green-800",children:l(e.nettoPercepito)})]})]},t)))})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-gray-600",children:"Totali"}),(0,a.jsxs)("ul",{className:"mt-2 space-y-1 text-sm",children:[(0,a.jsxs)("li",{className:"flex justify-between text-red-600",children:[(0,a.jsx)("span",{children:"Imposte totali:"}),(0,a.jsx)("span",{className:"font-medium",children:l(x+c)})]}),(0,a.jsxs)("li",{className:"flex justify-between text-green-600 font-semibold",children:[(0,a.jsx)("span",{children:"Netto totale:"}),(0,a.jsx)("span",{children:l(p)})]}),(0,a.jsxs)("li",{className:"flex justify-between mt-2 pt-2 border-t text-xs",children:[(0,a.jsx)("span",{children:"Pressione fiscale:"}),(0,a.jsxs)("span",{children:[((x+c)/(t-i)*100).toFixed(1),"%"]})]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 text-center text-xs text-gray-500",children:"2025 Key-Code"})]})},y="sas-simulator-data",w=e=>{try{if(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;try{const s=JSON.stringify(t),a=new Date;return a.setTime(a.getTime()+24*i*60*60*1e3),document.cookie=`${e}=${encodeURIComponent(s)};expires=${a.toUTCString()};path=/`,!0}catch(s){return console.error("Errore durante il salvataggio del cookie:",s),!1}}(y,e,30))return console.log("Dati salvati con successo nel cookie"),!0;console.error("Errore durante il salvataggio dei dati nel cookie")}catch(t){console.error("Errore durante il salvataggio dei dati nel cookie:",t)}},E=()=>{try{const e=(e=>{try{const t=document.cookie.split(";");for(let i=0;i<t.length;i++){const s=t[i].split("=");if(s[0].trim()===e){const e=decodeURIComponent(s[1]);return JSON.parse(e)}}return null}catch(t){return console.error("Errore durante la lettura del cookie:",t),null}})(y);return e||(console.warn("Nessun dato trovato nel cookie"),null)}catch(e){return console.error("Errore durante il recupero dei dati dal cookie:",e),null}},C=()=>{try{return e=y,document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`,console.log("Dati eliminati con successo dal cookie"),!0}catch(t){return console.error("Errore durante l'eliminazione dei dati dal cookie:",t),!1}var e},I=e=>{let{simulationData:t,onReset:i,onResetComplete:o,onDataRestored:r}=e;const[l,n]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-md py-3 px-6 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{d(!0);try{console.log("Dati da esportare:",E());const e=JSON.stringify(E(),null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=`simulazione-sas-${(new Date).toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(i)}catch(e){console.error("Errore durante l'esportazione dei dati:",e),alert("Si \ufffd verificato un errore durante l'esportazione dei dati.")}finally{d(!1)}},disabled:c,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded shadow disabled:opacity-50",children:c?"Esportazione...":"Esporta Dati"}),(0,a.jsx)("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded shadow",onClick:()=>{document.getElementById("fileInput").click()},children:"Importa Dati"}),(0,a.jsx)("input",{type:"file",id:"fileInput",accept:".json",onChange:e=>{const t=e.target.files[0];if(console.log("File selezionato:",t),t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);console.log("Dati importati:",t),C(),w(t),r(t)}catch(t){console.error("Errore durante l'importazione dei dati:",t),alert("Si \ufffd verificato un errore durante l'importazione dei dati.")}},e.readAsText(t)}},className:"hidden"}),(0,a.jsx)("button",{onClick:()=>{l?(n(!1),o&&(C(),o(),i())):n(!0)},className:(l?"bg-red-500 hover:bg-red-600":"bg-gray-500 hover:bg-gray-600")+" text-white px-4 py-2 rounded shadow",children:l?"Conferma Reset":"Reset Dati"})]}),l&&(0,a.jsx)("div",{className:"text-sm text-red-500 ml-2",children:"Attenzione: questa operazione canceller\xe0 tutti i dati inseriti."}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Versione ",t.versione]})]})};var S=i(9643);const P=e=>{let{progress:t=0,message:i="Caricamento in corso...",isIndeterminate:s=!1,type:o="bar"}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-80 flex flex-col items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-4 text-center",children:i}),"bar"===o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden",children:s?(0,a.jsx)("div",{className:"h-full bg-blue-500 rounded-full animate-pulse",style:{width:"100%"}}):(0,a.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${Math.max(5,Math.min(t,100))}%`}})}),!s&&(0,a.jsxs)("div",{className:"text-right mt-1 text-sm text-gray-600",children:[Math.round(t),"%"]})]}):(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)(S.A,{size:"large",color:"primary"})}),(0,a.jsx)("div",{className:"text-center mt-4 text-sm text-gray-500",children:"Simulatore Tassazione SAS | Key-Code"})]})})},T=()=>{const[e,t]=(0,s.useState)(1e5),[i,o]=(0,s.useState)(4e4),[r,l]=(0,s.useState)(3.9),[m,p]=(0,s.useState)(23.1),[g,h]=(0,s.useState)([{...n(1,"Mario Rossi"),tipo:"operativo",percentuale:60,redditoEsterno:0,giornateLavorate:220,buoniPasto:!0,valoreBuoniPasto:8,buoniPastoEsentiFino:8,trasferte:!0,giorniTrasferta:30,importoTrasfertaGiorno:50,trasfertaEsenteFino:46.48},{...n(2,"Giulia Bianchi"),tipo:"capitale",percentuale:40,redditoEsterno:3e4}]),[b,j]=(0,s.useState)([{limite:15e3,aliquota:23},{limite:28e3,aliquota:25},{limite:5e4,aliquota:35},{limite:1/0,aliquota:43}]),[f,y]=(0,s.useState)(1.73),[E,S]=(0,s.useState)(.8),[T,R]=(0,s.useState)(!1),[k,F]=(0,s.useState)(!1),[q,A]=(0,s.useState)(!0),[B,D]=(0,s.useState)(0),[L,U]=(0,s.useState)("Inizializzazione del simulatore..."),[O,G]=(0,s.useState)(!1),$=(0,s.useCallback)((()=>{t(1e5),o(4e4),l(3.9),p(23.1),h([{...n(1,"Mario Rossi"),tipo:"operativo",percentuale:60,redditoEsterno:0,giornateLavorate:220,buoniPasto:!0,valoreBuoniPasto:8,buoniPastoEsentiFino:8,trasferte:!0,giorniTrasferta:30,importoTrasfertaGiorno:50,trasfertaEsenteFino:46.48},{...n(2,"Giulia Bianchi"),tipo:"capitale",percentuale:40,redditoEsterno:3e4}]),j([{limite:15e3,aliquota:23},{limite:28e3,aliquota:25},{limite:5e4,aliquota:35},{limite:1/0,aliquota:43}]),y(1.73),S(.8)}),[]),K=(0,s.useCallback)((()=>({fatturato:e,costi:i,aliquotaIrap:r,aliquotaInps:m,soci:g,scaglioniIrpef:b,aliqRegionale:f,aliqComunale:E})),[e,i,r,m,g,b,f,E]),M=(0,s.useCallback)((()=>{G(!0),A(!0),U("Reset in corso..."),D(0);const e=setInterval((()=>{D((t=>t>=90?(clearInterval(e),t):t+5))}),50);return setTimeout((()=>{try{C()?(U("Ripristino valori predefiniti..."),D(95),$(),console.log("Reset completato con successo")):(U("Errore durante il reset. Ripristino valori predefiniti..."),D(75),console.error("Errore durante il reset dei dati"),$()),D(100),setTimeout((()=>{A(!1),G(!1),F(!1),R(!0)}),500)}catch(t){console.error("Errore critico durante il reset:",t),U("Si \ufffd verificato un errore. Ripristino forzato..."),$(),setTimeout((()=>{A(!1),G(!1),R(!0)}),1e3)}finally{clearInterval(e)}}),500),!0}),[$]);(0,s.useEffect)((()=>{z(A,U,D,t,o,l,p,h,j,y,S,R)()}),[]),(0,s.useEffect)((()=>{T&&!O&&F(!0)}),[e,i,r,m,g,b,f,E,T,O]),(0,s.useEffect)((()=>{if(!k||!T||O)return;const e=setTimeout((()=>{const e=K();w(e)?(console.log("Salvataggio automatico completato:",(new Date).toLocaleTimeString()),F(!1)):console.warn("Salvataggio automatico non riuscito")}),1e3);return()=>clearTimeout(e)}),[k,T,O,K]);const J=(e=>{let t=0,i=0,s=0,a=0,o=0;return e.forEach((e=>{if("operativo"===e.tipo){if(e.buoniPasto){const a=e.valoreBuoniPasto*e.giornateLavorate,o=e.valoreBuoniPasto,r=e.buoniPastoEsentiFino||8;o<=r?i+=a:(i+=r*e.giornateLavorate,s+=(o-r)*e.giornateLavorate),t+=a}if(e.trasferte){const i=e.importoTrasfertaGiorno*e.giorniTrasferta,s=e.importoTrasfertaGiorno,r=e.trasfertaEsenteFino||46.48;s<=r?a+=i:(a+=r*e.giorniTrasferta,o+=(s-r)*e.giorniTrasferta),t+=i}}})),{totale:t,dettaglio:{buoniPastoEsenti:i,buoniPastoNonEsenti:s,trasferteEsenti:a,trasferteNonEsenti:o}}})(g),Q=J.totale,_=J.dettaglio.buoniPastoNonEsenti+J.dettaglio.trasferteNonEsenti,V=e-i-Q+_,H=V*(r/100),W=V-H,X=g.reduce(((e,t)=>e+Number(t.percentuale)),0),Y=g.map((e=>((e,t,i,s,a,o)=>{const r=t*(e.percentuale/100);let l=0,n=0,d=0,m=0,u=0,x=0,p=0;if("operativo"===e.tipo){if(e.buoniPasto){const t=e.valoreBuoniPasto*e.giornateLavorate;l=t;const i=e.buoniPastoEsentiFino||8;e.valoreBuoniPasto<=i?(n=t,d=0):(n=i*e.giornateLavorate,d=(e.valoreBuoniPasto-i)*e.giornateLavorate)}if(e.trasferte){const t=e.importoTrasfertaGiorno*e.giorniTrasferta;m=t;const i=e.trasfertaEsenteFino||46.48;e.importoTrasfertaGiorno<=i?(u=t,x=0):(u=i*e.giorniTrasferta,x=(e.importoTrasfertaGiorno-i)*e.giorniTrasferta)}p=((e,t)=>e*(t/100))(r,i)}const g=((e,t,i,s)=>t+e.redditoEsterno+i+s)(e,r,d,x),h=c(g)-c(e.redditoEsterno),b=r*(a/100),j=(v=r,N=o,v*(N/100)),f=p+h+b+j;var v,N;return{socio:e,quotaUtile:r,importoBuoniPasto:l,importoBuoniPastoEsenti:n,importoBuoniPastoNonEsenti:d,importoTrasferte:m,importoTrasferteEsenti:u,importoTrasferteNonEsenti:x,contributiInps:p,redditoImponibileTotale:g,irpef:h,addizionaleRegionale:b,addizionaleComunale:j,totaleImposte:f,nettoPercepito:r-f+n+u}})(e,W,m,0,f,E))),Z={datiAzienda:{fatturato:e,costi:i,aliquotaIrap:r,aliquotaInps:m,costiSociOperativi:Q,costiEsenti:Q-_,costiNonEsenti:_,utileAziendale:V,irap:H,utileDopoIrap:W},tassazione:{scaglioniIrpef:b,aliqRegionale:f,aliqComunale:E},soci:g,risultati:Y,dataSimulazione:(new Date).toISOString(),versione:"1.0.0"};return(0,a.jsxs)("div",{className:"p-6 max-w-6xl mx-auto bg-gray-50 relative pb-16",children:[(q||O)&&(0,a.jsx)(P,{progress:B,message:L}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-blue-800",children:"Simulatore Tassazione SAS"}),k&&T&&!O&&(0,a.jsx)("div",{className:"fixed top-4 right-4 bg-yellow-100 text-yellow-800 px-3 py-1 rounded text-sm shadow-md z-50",children:"Salvataggio in corso..."}),(0,a.jsx)(d,{fatturato:e,setFatturato:t,costi:i,setCosti:o,aliquotaIrap:r,setAliquotaIrap:l,aliquotaInps:m,setAliquotaInps:p,utileAziendale:V,irap:H,utileDopoIrap:W,costiSociOperativi:Q,costiEsenti:Q-_,costiNonEsenti:_}),(0,a.jsx)(u,{soci:g,setSoci:h,totalPercentuale:X}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Risultati"}),Y.map(((e,t)=>(0,a.jsx)(x,{risultato:e},t)))]}),(0,a.jsx)(v,{fatturato:e,costi:i,costiSociOperativi:Q,costiEsenti:Q-_,costiNonEsenti:_,utileAziendale:V,irap:H,utileDopoIrap:W,risultatiSoci:Y}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 mt-8",children:[(0,a.jsx)("p",{children:"Disclaimer: Questo simulatore fornisce una stima indicativa. Per calcoli precisi si consiglia di consultare un commercialista."}),(0,a.jsx)("p",{children:"Le aliquote IRPEF e i contributi INPS utilizzati sono configurabili ma potrebbero richiedere aggiornamenti in base alle normative vigenti."}),(0,a.jsx)("p",{className:"mt-4 text-center font-semibold",children:"2025 Key-Code. Tutti i diritti riservati."})]}),(0,a.jsx)(N,{fatturato:e,costi:i,costiSociOperativi:Q,costiEsenti:Q-_,costiNonEsenti:_,utileAziendale:V,irap:H,utileDopoIrap:W,soci:g,risultatiSoci:Y}),(0,a.jsx)(I,{simulationData:Z,onReset:M,onDataRestored:e=>{z(A,U,D,t,o,l,p,h,j,y,S,R)()},onResetComplete:()=>{console.log("Reset completato e UI aggiornata")}})]})};function z(e,t,i,s,a,o,r,l,n,c,d,m){return()=>{try{e(!0),t("Caricamento dati salvati..."),i(10);const u=setInterval((()=>{i((e=>e>=90?(clearInterval(u),e):e+5))}),100);setTimeout((()=>{const x=E();if(i(95),x){if(t("Elaborazione dati..."),void 0!==x.fatturato&&s(Number(x.fatturato)),void 0!==x.costi&&a(Number(x.costi)),void 0!==x.aliquotaIrap&&o(Number(x.aliquotaIrap)),void 0!==x.aliquotaInps&&r(Number(x.aliquotaInps)),x.soci&&Array.isArray(x.soci)){const e=x.soci.map(((e,t)=>({...e,id:e.id||t+1})));l(e)}x.scaglioniIrpef&&Array.isArray(x.scaglioniIrpef)&&n(x.scaglioniIrpef),void 0!==x.aliqRegionale&&c(Number(x.aliqRegionale)),void 0!==x.aliqComunale&&d(Number(x.aliqComunale)),console.log("Dati caricati con successo.")}else t("Configurazione predefinita..."),console.log("Nessun dato salvato trovato, utilizzo valori predefiniti.");i(100),setTimeout((()=>{m(!0),e(!1),clearInterval(u)}),500)}),800)}catch(u){console.error("Errore durante il caricamento dei dati:",u),t("Si \ufffd verificato un errore. Utilizzo valori predefiniti..."),setTimeout((()=>{m(!0),e(!1)}),1500)}}}}}]);
//# sourceMappingURL=807.2402d30f.chunk.js.map